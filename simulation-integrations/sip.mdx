---
title: 'SIP'
description: 'Connect directly via SIP and collect enhanced call metadata'
---

# Connecting via SIP

Bluejay supports direct SIP (Session Initiation Protocol) connectivity, allowing you to bypass the traditional PSTN (Public Switched Telephone Network) and establish direct connections to your voice agents. This approach provides enhanced control, reduced latency, and access to rich call metadata through custom headers.

## What is SIP?

SIP (Session Initiation Protocol) is a signaling protocol used for initiating, maintaining, and terminating real-time communication sessions. Unlike traditional PSTN calls that route through telephone networks, SIP enables direct IP-based communication between endpoints.

## How SIP Calls Connect

When you configure your agent for SIP connectivity, the call flow works as follows:

1. **SIP Invite**: Bluejay sends a SIP INVITE request to the voice agent endpoint
2. **Header Injection**: Bluejay automatically injects custom headers, including the `X-Simulation-Result-Id`
3. **Session Negotiation**: SIP protocols negotiate audio codecs, media parameters, and connection details
4. **Media Stream**: Direct RTP (Real-time Transport Protocol) audio streams are established
5. **Call Handling**: Your agent processes the call with full access to SIP headers and metadata
```mermaid
graph LR
    A[Bluejay Digital Human] -->|SIP INVITE| B[Your Voice Agent]
    B -->|SIP Headers + Metadata| C[Call Session]
    B -->|RTP Audio Stream| A
```

## `X-Simulation-Result-Id` Header

Bluejay automatically injects a critical header into every SIP INVITE request:

```
X-Simulation-Result-Id: <unique-simulation-result-id>
```

This header contains a unique identifier that links the specific call session to Bluejay's simulation and evaluation system.

### Header Usage in SIP INVITE

When your SIP system receives an incoming call from Bluejay, the complete SIP INVITE will include:

```sip
INVITE sip:your-endpoint@your-domain.com SIP/2.0
Via: SIP/2.0/UDP bluejay-sip-gateway.com:5060
From: <sip:agent@bluejay.ai>
To: <sip:your-endpoint@your-domain.com>
Call-ID: unique-call-identifier
X-Simulation-Result-Id: 1234
X-Call-Type: SIP
Content-Type: application/sdp
...
```

### Extracting the Header

Your SIP infrastructure can extract this header during call setup:

```python
# Example: Extracting header in Python/SIP library
def handle_sip_invite(invite_message):
    simulation_id = invite_message.headers.get('X-Simulation-Result-Id')
    if simulation_id:
        # Store for later use in updating simulation results
        store_simulation_id(simulation_id)
```

Using this header, you can now enrich your simulation evaluations by calling the [`/v1/update-simulation-result`](/api-reference/endpoint/update-simulation-result) endpoint.

For more information, see the [Tool Calls](/core-concepts/tool-calls#step-3%3A-enrich-your-evaluations) documentation.

For technical support with SIP configuration or integration questions, contact the Bluejay team.
